var aws=require("aws-sdk"),region=process.env.REGION,cognito=new aws.CognitoIdentityServiceProvider({region:region});module.exports.CreatePool=function(a){var b={PoolName:a.PoolName,AdminCreateUserConfig:{AllowAdminCreateUserOnly:!0,InviteMessageTemplate:{},UnusedAccountValidityDays:10},AliasAttributes:["email"],AutoVerifiedAttributes:["email"],Policies:{PasswordPolicy:{MinimumLength:8,RequireLowercase:!1,RequireNumbers:!0,RequireSymbols:!0,RequireUppercase:!0}},Schema:[{AttributeDataType:"String",Name:"Company",Mutable:!0},{AttributeDataType:"String",Name:"Name",Mutable:!0}]},c=new Promise(function(a,c){cognito.createUserPool(b,function(b,d){b?c(b):a(d)})});return c},module.exports.CreateApp=function(a,b){var c={ClientName:a.PoolName+"-app",UserPoolId:b},d=new Promise(function(a,b){cognito.createUserPoolClient(c,function(c,d){c?b(c):a(d)})});return d},module.exports.deleteBoth=function(a){pool=a.PhysicalResourceId.split("|")[0],app=a.PhysicalResourceId.split("|")[1];var b={UserPoolId:pool},c={UserPoolId:pool,ClientId:app};console.log(b),console.log(c);var d=function(a,b){cognito.deleteUserPoolClient(c,function(c,d){c?(console.log(c),b(c)):a(d)})},e=function(a,c){cognito.deleteUserPool(b,function(b,d){b?(console.log(b),c(b)):a(d)})},f=new Promise(d),g=f.then(function(){return new Promise(e)});return g};