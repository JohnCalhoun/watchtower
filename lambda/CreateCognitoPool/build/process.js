var aws=require("aws-sdk"),region=process.env.REGION;console.log("region="+region);var cognito=new aws.CognitoIdentityServiceProvider({region:region});module.exports.create=function(a){var b=new Promise(function(b,c){if("Create"===a.RequestType|"Update"===a.RequestType){var d=a.ResourceProperties,e={PoolName:d.PoolName,AdminCreateUserConfig:{AllowAdminCreateUserOnly:!0,InviteMessageTemplate:{},UnusedAccountValidityDays:10},AliasAttributes:["preferred_username","email"],AutoVerifiedAttributes:["email"],Policies:{PasswordPolicy:{MinimumLength:8,RequireLowercase:!1,RequireNumbers:!0,RequireSymbols:!0,RequireUppercase:!0}},Schema:[{AttributeDataType:"String",Name:"Company",Mutable:!0},{AttributeDataType:"String",Name:"Name",Mutable:!0}]};cognito.createUserPool(e,function(a,d){a?c(a):b(d)})}else b()});return b},module.exports.destory=function(a){var b=new Promise(function(b,c){if("Delete"===a.RequestType|"Update"===a.RequestType){var d=(a.ResourceProperties,{UserPoolId:a.PhysicalResourceId});cognito.deleteUserPool(d,function(a,d){a?(console.log(a),c(a)):b(d)})}else b()});return b};