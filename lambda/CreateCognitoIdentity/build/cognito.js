var aws=require("aws-sdk"),region=process.env.AWS_REGION,cognito=new aws.CognitoIdentity({region:region});module.exports.CreatePool=function(a){var b={AllowUnauthenticatedIdentities:!0,IdentityPoolName:a.IdentityPoolName,CognitoIdentityProviders:[]};a.Providers.forEach(function(a){var c=a.ClientId,a="cognito-idp."+region+".amazonaws.com/"+a.ProviderName;b.CognitoIdentityProviders.push({ClientId:c,ProviderName:a})}),console.log(b);var c=new Promise(function(a,c){cognito.createIdentityPool(b,function(b,d){b?c(b):(console.log(d),a(d.IdentityPoolId))})});return c},module.exports.CreateRoles=function(a,b){var c={IdentityPoolId:b,Roles:{authenticated:a.authenticatedRole,unauthenticated:a.unauthenticatedRole}},d=new Promise(function(a,b){cognito.setIdentityPoolRoles(c,function(c,d){c?b(c):(console.log(d),a())})});return d},module.exports.deletePool=function(a){var b={IdentityPoolId:a.PhysicalResourceId},c=function(a,c){cognito.deleteIdentityPool(b,function(b,d){b?(console.log(b),c(b)):a(d)})};return new Promise(c)};